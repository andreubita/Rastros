\hypertarget{interpretador_8h}{}\section{interface/interpretador.h File Reference}
\label{interpretador_8h}\index{interface/interpretador.\+h@{interface/interpretador.\+h}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}../logica/jogada.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}file.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{interpretador_8h_a24da95ebeede4a540e37790ce8be359b}{interpretador} (\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$e)
\begin{DoxyCompactList}\small\item\em Esta função interpreta o comando a executar e chamar a função correspondente do interface ou da lógica do programa. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{interpretador_8h_a2896431d6a80cd39b3d24b40237612ee}\label{interpretador_8h_a2896431d6a80cd39b3d24b40237612ee}} 
int {\bfseries quit}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Definição do interpretador e das suas funções 

\subsection{Function Documentation}
\mbox{\Hypertarget{interpretador_8h_a24da95ebeede4a540e37790ce8be359b}\label{interpretador_8h_a24da95ebeede4a540e37790ce8be359b}} 
\index{interpretador.\+h@{interpretador.\+h}!interpretador@{interpretador}}
\index{interpretador@{interpretador}!interpretador.\+h@{interpretador.\+h}}
\subsubsection{\texorpdfstring{interpretador()}{interpretador()}}
{\footnotesize\ttfamily int interpretador (\begin{DoxyParamCaption}\item[{\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$}]{e }\end{DoxyParamCaption})}



Esta função interpreta o comando a executar e chamar a função correspondente do interface ou da lógica do programa. 


\begin{DoxyParams}{Parameters}
{\em e} & estado atual \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Retorna -\/1 para sair do programa, 0 nao acontece nada, 1 jogar, 2 gr, 3 ler, 4 movs, 5 pos 
\end{DoxyReturn}


Definition at line 9 of file interpretador.\+c.


\begin{DoxyCode}
9                              \{
10     \textcolor{keywordtype}{char} linha[BUF\_SIZE];
11     \textcolor{keywordtype}{char} col[2], lin[2];
12     \textcolor{keywordtype}{char} file[16];
13     \textcolor{keywordtype}{int} p;
14 
15     printf(\textcolor{stringliteral}{"%d PL%d (%d)>"}, comandos, \hyperlink{estado_8h_ad6e326e4ffa57ca1ae0c75377ecefc8c}{obter\_jogador\_atual}(e), 
      \hyperlink{estado_8h_a6cd0b387bdee9e18003c78852394aa63}{obter\_numero\_de\_jogadas}(e) + 1);
16 
17     \textcolor{keywordflow}{if}(fgets(linha, BUF\_SIZE, stdin) == NULL)
18         \textcolor{keywordflow}{return} 0;
19 
20     comandos++;
21 
22     \textcolor{keywordflow}{if}(strlen(linha) == 2 && strcmp(linha,\textcolor{stringliteral}{"Q\(\backslash\)n"}) == 0)\{
23         quit = 1;
24         \textcolor{keywordflow}{return} -1;
25     \}
26 
27     \textcolor{keywordflow}{if}(sscanf(linha, \textcolor{stringliteral}{"gr %s"}, file))\{
28         \hyperlink{file_8h_a88be94d179abd5073870fc1d206b3770}{gr}(file, e);
29         \textcolor{keywordflow}{return} 2;
30     \}
31 
32     \textcolor{keywordflow}{if}(sscanf(linha, \textcolor{stringliteral}{"ler %s"}, file)) \{
33         \hyperlink{file_8h_ae6bfa898954094e9a4f4540e72ac3c81}{ler}(file, e);
34         \textcolor{keywordflow}{return} 3;
35     \}
36 
37     \textcolor{keywordflow}{if}(strlen(linha) == 5 && strcmp(linha,\textcolor{stringliteral}{"movs\(\backslash\)n"}) == 0)\{
38         \hyperlink{file_8h_a4e054f36607c534b3680ef11fa600868}{movs}(e);
39         \textcolor{keywordflow}{return} 4;
40     \}
41 
42     \textcolor{keywordflow}{if}((strlen(linha) == 6 || strlen(linha) == 7)
43     && strstr(linha, \textcolor{stringliteral}{"pos"}))\{
44         p = atoi(&linha[4]);
45         \hyperlink{file_8h_a03b39d5580a9cf878ee44640ee530f2b}{pos}(e, p);
46         \textcolor{keywordflow}{return} 5;
47     \}
48 
49     \textcolor{keywordflow}{if}(strlen(linha) == 3 && sscanf(linha, \textcolor{stringliteral}{"%[a-h]%[1-8]"}, col, lin) == 2)\{
50         \hyperlink{structCOORDENADA}{COORDENADA} coord = \{*col - \textcolor{charliteral}{'a'}, *lin - \textcolor{charliteral}{'1'}\};
51         coord.linha = 7-coord.linha;
52         \hyperlink{jogada_8h_aedac94896fa0c978db67ffa48463b731}{jogar}(e, coord);
53         \textcolor{keywordflow}{return} 1;
54     \}
55 
56     printf(\textcolor{stringliteral}{"Comando invalido.\(\backslash\)n"});
57     \textcolor{keywordflow}{return} 0;
58 \}
\end{DoxyCode}
