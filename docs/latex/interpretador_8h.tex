\hypertarget{interpretador_8h}{}\section{interpretador.\+h File Reference}
\label{interpretador_8h}\index{interpretador.\+h@{interpretador.\+h}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}jogada.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}movs.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}pos.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}file.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lista.\+h\char`\"{}}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{interpretador_8h_a6821bafc3c88dfb2e433a095df9940c6}\label{interpretador_8h_a6821bafc3c88dfb2e433a095df9940c6}} 
\#define {\bfseries B\+U\+F\+\_\+\+S\+I\+ZE}~1024
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{interpretador_8h_a24da95ebeede4a540e37790ce8be359b}{interpretador} (\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$e)
\begin{DoxyCompactList}\small\item\em Esta função interpreta o comando a executar e chamar a função correspondente do interface ou da lógica do programa. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{interpretador_8h_a2896431d6a80cd39b3d24b40237612ee}\label{interpretador_8h_a2896431d6a80cd39b3d24b40237612ee}} 
int {\bfseries quit}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Definição do interpretador e das suas funções 

\subsection{Function Documentation}
\mbox{\Hypertarget{interpretador_8h_a24da95ebeede4a540e37790ce8be359b}\label{interpretador_8h_a24da95ebeede4a540e37790ce8be359b}} 
\index{interpretador.\+h@{interpretador.\+h}!interpretador@{interpretador}}
\index{interpretador@{interpretador}!interpretador.\+h@{interpretador.\+h}}
\subsubsection{\texorpdfstring{interpretador()}{interpretador()}}
{\footnotesize\ttfamily int interpretador (\begin{DoxyParamCaption}\item[{\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$}]{e }\end{DoxyParamCaption})}



Esta função interpreta o comando a executar e chamar a função correspondente do interface ou da lógica do programa. 


\begin{DoxyParams}{Parameters}
{\em e} & estado atual \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Retorna -\/1 para sair do programa, 0 nao acontece nada, 1 jogar, 2 gr, 3 ler, 4 movs, 5 pos 
\end{DoxyReturn}


Definition at line 6 of file interpretador.\+c.


\begin{DoxyCode}
6                              \{
7     \textcolor{keywordtype}{char} linha[BUF\_SIZE];
8     \textcolor{keywordtype}{char} col[2], lin[2];
9     \textcolor{keywordtype}{char} file[16];
10     \textcolor{keywordtype}{int} p;
11 
12     printf(\textcolor{stringliteral}{"%d PL%d (%d)>"}, comandos, \hyperlink{estado_8h_ad6e326e4ffa57ca1ae0c75377ecefc8c}{obter\_jogador\_atual}(e), 
      \hyperlink{estado_8h_a6cd0b387bdee9e18003c78852394aa63}{obter\_numero\_de\_jogadas}(e) + 1);
13 
14     \textcolor{keywordflow}{if}(fgets(linha, BUF\_SIZE, stdin) == NULL)
15         \textcolor{keywordflow}{return} 0;
16 
17     comandos++;
18 
19     \textcolor{keywordflow}{if}(strlen(linha) == 2 && strcmp(linha,\textcolor{stringliteral}{"Q\(\backslash\)n"}) == 0)\{
20         quit = 1;
21         \textcolor{keywordflow}{return} -1;
22     \}
23 
24     \textcolor{keywordflow}{if}(sscanf(linha, \textcolor{stringliteral}{"gr %s"}, file))\{
25         \hyperlink{file_8h_a88be94d179abd5073870fc1d206b3770}{gr}(file, e);
26         \textcolor{keywordflow}{return} 2;
27     \}
28 
29     \textcolor{keywordflow}{if}(sscanf(linha, \textcolor{stringliteral}{"ler %s"}, file)) \{
30         \hyperlink{file_8h_ae6bfa898954094e9a4f4540e72ac3c81}{ler}(file, e);
31         \textcolor{keywordflow}{return} 3;
32     \}
33 
34     \textcolor{keywordflow}{if}(strlen(linha) == 5 && strcmp(linha,\textcolor{stringliteral}{"movs\(\backslash\)n"}) == 0)\{
35         movs(e);
36         \textcolor{keywordflow}{return} 4;
37     \}
38 
39     \textcolor{keywordflow}{if}((strlen(linha) == 6 || strlen(linha) == 7)
40     && strstr(linha, \textcolor{stringliteral}{"pos"}))\{
41         p = atoi(&linha[4]);
42         pos(e, p);
43         \textcolor{keywordflow}{return} 5;
44     \}
45 
46     \textcolor{keywordflow}{if}(strlen(linha) == 4 && strcmp(linha,\textcolor{stringliteral}{"jog\(\backslash\)n"}) == 0)\{
47         jog(e);
48         \textcolor{keywordflow}{return} 6;
49     \}
50 
51     \textcolor{keywordflow}{if}(strlen(linha) == 5 && strcmp(linha,\textcolor{stringliteral}{"jog2\(\backslash\)n"}) == 0)\{
52         jog2(e);
53         \textcolor{keywordflow}{return} 7;
54     \}
55 
56     \textcolor{keywordflow}{if}(strlen(linha) == 3 && sscanf(linha, \textcolor{stringliteral}{"%[a-h]%[1-8]"}, col, lin) == 2)\{
57         \hyperlink{structCOORDENADA}{COORDENADA} coord = \{*col - \textcolor{charliteral}{'a'}, *lin - \textcolor{charliteral}{'1'}\};
58         coord.linha = 7-coord.linha;
59         \hyperlink{jogada_8h_aedac94896fa0c978db67ffa48463b731}{jogar}(e, coord);
60         \textcolor{keywordflow}{return} 1;
61     \}
62 
63     printf(\textcolor{stringliteral}{"Comando invalido.\(\backslash\)n"});
64     \textcolor{keywordflow}{return} 0;
65 \}
\end{DoxyCode}
