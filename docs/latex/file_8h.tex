\hypertarget{file_8h}{}\section{dados/file.h File Reference}
\label{file_8h}\index{dados/file.\+h@{dados/file.\+h}}
{\ttfamily \#include \char`\"{}stdio.\+h\char`\"{}}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}data.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}estado.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{file_8h_a88be94d179abd5073870fc1d206b3770}{gr} (char $\ast$file\+\_\+name, \hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$estado)
\begin{DoxyCompactList}\small\item\em Esta função lê o Estado atual e grava o tabuleiro correspondente num ficheiro. \end{DoxyCompactList}\item 
void \hyperlink{file_8h_ae6bfa898954094e9a4f4540e72ac3c81}{ler} (char $\ast$file\+\_\+name, \hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$estado)
\begin{DoxyCompactList}\small\item\em Esta função lê um ficheiro e verifica o Estado do tabuleiro. \end{DoxyCompactList}\item 
void \hyperlink{file_8h_a4e054f36607c534b3680ef11fa600868}{movs} (\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$estado)
\begin{DoxyCompactList}\small\item\em Esta função através do estado indica quais foram as jogadas efetuadas pelos jogadores. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Definição do 

\subsection{Function Documentation}
\mbox{\Hypertarget{file_8h_a88be94d179abd5073870fc1d206b3770}\label{file_8h_a88be94d179abd5073870fc1d206b3770}} 
\index{file.\+h@{file.\+h}!gr@{gr}}
\index{gr@{gr}!file.\+h@{file.\+h}}
\subsubsection{\texorpdfstring{gr()}{gr()}}
{\footnotesize\ttfamily void gr (\begin{DoxyParamCaption}\item[{char $\ast$}]{file\+\_\+name,  }\item[{\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$}]{estado }\end{DoxyParamCaption})}



Esta função lê o Estado atual e grava o tabuleiro correspondente num ficheiro. 


\begin{DoxyParams}{Parameters}
{\em file\+\_\+name} & O nome do ficheiro \\
\hline
{\em estado} & O estado atual \\
\hline
\end{DoxyParams}


Definition at line 3 of file file.\+c.


\begin{DoxyCode}
3                                         \{
4     file\_name = strcat(file\_name,\textcolor{stringliteral}{".txt"});
5     FILE *file\_p;
6     file\_p = fopen(file\_name, \textcolor{stringliteral}{"w"});
7     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 8; i++)\{
8         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < 8; j++)\{
9             \hyperlink{data_8h_aba91601f16d4c485b2d9b8c429f27039}{CASA} cs = estado->\hyperlink{structESTADO_ab56f0f1be16954d3768b4174d14c087d}{tab}[i][j];
10             \textcolor{keywordflow}{if}(cs == POS1) fprintf(file\_p, \textcolor{stringliteral}{"1"});
11             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(cs == POS2) fprintf(file\_p, \textcolor{stringliteral}{"2"});
12             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(cs == RASTRO) fprintf(file\_p, \textcolor{stringliteral}{"#"});
13             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(cs == PECA) fprintf(file\_p, \textcolor{stringliteral}{"*"});
14             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(cs == VAZIO) fprintf(file\_p, \textcolor{stringliteral}{"."});
15         \}
16         fprintf(file\_p, \textcolor{stringliteral}{"\(\backslash\)n"});
17     \}
18 
19     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < (\hyperlink{estado_8h_a6cd0b387bdee9e18003c78852394aa63}{obter\_numero\_de\_jogadas}(estado) + 1); i++)\{
20         \hyperlink{structCOORDENADA}{COORDENADA} jogador1 = estado->\hyperlink{structESTADO_afae43b87a488fad0f2b56a18bad31d18}{jogadas}[i].jogador1;
21         \hyperlink{structCOORDENADA}{COORDENADA} jogador2 = estado->\hyperlink{structESTADO_afae43b87a488fad0f2b56a18bad31d18}{jogadas}[i].jogador2;
22         \textcolor{keywordflow}{if}(jogador1.linha != -1)\{
23             fprintf(file\_p, \textcolor{stringliteral}{"%d%d\(\backslash\)n"}, jogador1.coluna, jogador1.linha);
24         \}
25         \textcolor{keywordflow}{if}(jogador2.linha != -1)\{
26             fprintf(file\_p, \textcolor{stringliteral}{"%d%d\(\backslash\)n"}, jogador2.coluna, jogador2.linha);
27         \}
28     \}
29 
30     fclose(file\_p);
31 \}
\end{DoxyCode}
\mbox{\Hypertarget{file_8h_ae6bfa898954094e9a4f4540e72ac3c81}\label{file_8h_ae6bfa898954094e9a4f4540e72ac3c81}} 
\index{file.\+h@{file.\+h}!ler@{ler}}
\index{ler@{ler}!file.\+h@{file.\+h}}
\subsubsection{\texorpdfstring{ler()}{ler()}}
{\footnotesize\ttfamily void ler (\begin{DoxyParamCaption}\item[{char $\ast$}]{file\+\_\+name,  }\item[{\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$}]{estado }\end{DoxyParamCaption})}



Esta função lê um ficheiro e verifica o Estado do tabuleiro. 


\begin{DoxyParams}{Parameters}
{\em file\+\_\+name} & O nome do ficheiro \\
\hline
{\em estado} & O estado atual \\
\hline
\end{DoxyParams}


Definition at line 34 of file file.\+c.


\begin{DoxyCode}
34                                          \{
35     file\_name = strcat(file\_name,\textcolor{stringliteral}{".txt"});
36     FILE *file\_p;
37     file\_p = fopen(file\_name, \textcolor{stringliteral}{"r"});
38     \textcolor{keywordtype}{char} line[150];
39     \hyperlink{data_8h_aba91601f16d4c485b2d9b8c429f27039}{CASA} tabuleiro[8][8];
40 
41     \textcolor{keywordflow}{if}(file\_p == NULL)\{
42         printf(\textcolor{stringliteral}{"Nome de ficheiro invalido"});
43         \textcolor{keywordflow}{return};
44     \}
45 
46     \textcolor{keywordtype}{int} linha = 0;
47     \textcolor{keywordflow}{while}(!feof(file\_p))\{
48         fgets(line, 150, file\_p);
49         \textcolor{keywordflow}{if}(linha < 8)\{
50             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 8; i++)\{
51                 \textcolor{keywordflow}{if}(line[i] == \textcolor{charliteral}{'1'}) tabuleiro[linha][i] = POS1;
52                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(line[i] == \textcolor{charliteral}{'2'}) tabuleiro[linha][i] = POS2;
53                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(line[i] == \textcolor{charliteral}{'#'}) tabuleiro[linha][i] = RASTRO;
54                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(line[i] == \textcolor{charliteral}{'*'}) tabuleiro[linha][i] = PECA;
55                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(line[i] == \textcolor{charliteral}{'.'}) tabuleiro[linha][i] = VAZIO;
56             \}
57         \}\textcolor{keywordflow}{else}\{
58             \textcolor{comment}{/*//printf("%s", line);}
59 \textcolor{comment}{            int file\_coluna, file\_linha, jogada = 0, jogada\_index = 0;}
60 \textcolor{comment}{            sscanf(line, "%d%d\(\backslash\)n", file\_coluna, file\_linha);}
61 \textcolor{comment}{            COORDENADA coord;}
62 \textcolor{comment}{            coord.coluna = file\_coluna;}
63 \textcolor{comment}{            coord.linha = file\_linha;}
64 \textcolor{comment}{            if(jogada%2 == 0)\{}
65 \textcolor{comment}{                estado->jogadas[jogada\_index].jogador1 = coord;}
66 \textcolor{comment}{            \}else\{}
67 \textcolor{comment}{                estado->jogadas[jogada\_index].jogador2 = coord;}
68 \textcolor{comment}{                jogada\_index++;}
69 \textcolor{comment}{            \}}
70 \textcolor{comment}{            jogada++;*/}
71         \}
72         linha++;
73     \}
74 
75 
76     \hyperlink{estado_8h_ab3b8be2c1d31ca864df920d8f0df3a04}{setTabuleiro}(estado, tabuleiro);
77     estado->\hyperlink{structESTADO_a4896a5c5c1f40b43fb795623327e3f47}{ultima\_jogada} = \hyperlink{estado_8h_aa21af881dfebf0f0e822b806edf9a006}{obter\_coordenada\_peca}(tabuleiro);
78 
79     \hyperlink{tabuleiro_8h_aa0b6c1689e60ac852a73d67e066c1df5}{mostrar\_tabuleiro}(estado);
80     \textcolor{comment}{//printf("\(\backslash\)n%d %d", estado->ultima\_jogada.coluna, estado->ultima\_jogada.linha);}
81 
82     fclose(file\_p);
83 \}
\end{DoxyCode}
\mbox{\Hypertarget{file_8h_a4e054f36607c534b3680ef11fa600868}\label{file_8h_a4e054f36607c534b3680ef11fa600868}} 
\index{file.\+h@{file.\+h}!movs@{movs}}
\index{movs@{movs}!file.\+h@{file.\+h}}
\subsubsection{\texorpdfstring{movs()}{movs()}}
{\footnotesize\ttfamily void movs (\begin{DoxyParamCaption}\item[{\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$}]{estado }\end{DoxyParamCaption})}



Esta função através do estado indica quais foram as jogadas efetuadas pelos jogadores. 


\begin{DoxyParams}{Parameters}
{\em estado} & O estado atual \\
\hline
\end{DoxyParams}


Definition at line 85 of file file.\+c.


\begin{DoxyCode}
85                          \{
86     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 32; i++)\{
87         \hyperlink{structCOORDENADA}{COORDENADA} jogador1 = estado->\hyperlink{structESTADO_afae43b87a488fad0f2b56a18bad31d18}{jogadas}[i].jogador1;
88         \hyperlink{structCOORDENADA}{COORDENADA} jogador2 = estado->\hyperlink{structESTADO_afae43b87a488fad0f2b56a18bad31d18}{jogadas}[i].jogador2;
89 
90         \textcolor{keywordtype}{int} jogador1\_linha, jogador2\_linha;
91         \textcolor{keywordtype}{char} jogador1\_coluna, jogador2\_coluna;
92 
93         jogador1\_linha = 8 - jogador1.linha;
94         jogador2\_linha = 8 - jogador2.linha;
95 
96         jogador1\_coluna = \textcolor{charliteral}{'a'} + jogador1.coluna;
97         jogador2\_coluna = \textcolor{charliteral}{'a'} + jogador2.coluna;
98 
99         \textcolor{keywordflow}{if}(jogador2.linha == -1 && jogador1.linha != -1)\{
100             printf(\textcolor{stringliteral}{"(%d) %c%d\(\backslash\)n"}, i+1, jogador1\_coluna, jogador1\_linha);
101         \}\textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(jogador1.linha != -1 && jogador2.linha != -1)\{
102             printf(\textcolor{stringliteral}{"(%d) %c%d %c%d\(\backslash\)n"}, i+1, jogador1\_coluna, jogador1\_linha, jogador2\_coluna, 
      jogador2\_linha);
103         \}
104     \}
105 \}
\end{DoxyCode}
