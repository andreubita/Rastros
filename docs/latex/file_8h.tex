\hypertarget{file_8h}{}\doxysection{dados/file.h File Reference}
\label{file_8h}\index{dados/file.h@{dados/file.h}}
{\ttfamily \#include \char`\"{}stdio.\+h\char`\"{}}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}data.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}estado.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../logica/jogada.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{file_8h_a88be94d179abd5073870fc1d206b3770}{gr}} (char $\ast$file\+\_\+name, \mbox{\hyperlink{structESTADO}{E\+S\+T\+A\+DO}} $\ast$estado)
\begin{DoxyCompactList}\small\item\em Esta função lê o Estado atual e grava o tabuleiro correspondente num ficheiro. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{file_8h_ae6bfa898954094e9a4f4540e72ac3c81}{ler}} (char $\ast$file\+\_\+name, \mbox{\hyperlink{structESTADO}{E\+S\+T\+A\+DO}} $\ast$estado)
\begin{DoxyCompactList}\small\item\em Esta função lê um ficheiro e verifica o Estado do tabuleiro. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{file_8h_a4e054f36607c534b3680ef11fa600868}{movs}} (\mbox{\hyperlink{structESTADO}{E\+S\+T\+A\+DO}} $\ast$estado)
\begin{DoxyCompactList}\small\item\em Esta função através do estado indica quais foram as jogadas efetuadas pelos jogadores. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Definição do 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{file_8h_a88be94d179abd5073870fc1d206b3770}\label{file_8h_a88be94d179abd5073870fc1d206b3770}} 
\index{file.h@{file.h}!gr@{gr}}
\index{gr@{gr}!file.h@{file.h}}
\doxysubsubsection{\texorpdfstring{gr()}{gr()}}
{\footnotesize\ttfamily void gr (\begin{DoxyParamCaption}\item[{char $\ast$}]{file\+\_\+name,  }\item[{\mbox{\hyperlink{structESTADO}{E\+S\+T\+A\+DO}} $\ast$}]{estado }\end{DoxyParamCaption})}



Esta função lê o Estado atual e grava o tabuleiro correspondente num ficheiro. 


\begin{DoxyParams}{Parameters}
{\em file\+\_\+name} & O nome do ficheiro \\
\hline
{\em estado} & O estado atual \\
\hline
\end{DoxyParams}


Definition at line 3 of file file.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{3                                         \{}
\DoxyCodeLine{4     file\_name = strcat(file\_name,\textcolor{stringliteral}{".txt"});}
\DoxyCodeLine{5     FILE *file\_p;}
\DoxyCodeLine{6     file\_p = fopen(file\_name, \textcolor{stringliteral}{"w"});}
\DoxyCodeLine{7     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 8; i++)\{}
\DoxyCodeLine{8         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < 8; j++)\{}
\DoxyCodeLine{9             \mbox{\hyperlink{data_8h_aba91601f16d4c485b2d9b8c429f27039}{CASA}} cs = estado-\/>\mbox{\hyperlink{structESTADO_ab56f0f1be16954d3768b4174d14c087d}{tab}}[i][j];}
\DoxyCodeLine{10             \textcolor{keywordflow}{if}(cs == POS1) fprintf(file\_p, \textcolor{stringliteral}{"1"});}
\DoxyCodeLine{11             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(cs == POS2) fprintf(file\_p, \textcolor{stringliteral}{"2"});}
\DoxyCodeLine{12             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(cs == RASTRO) fprintf(file\_p, \textcolor{stringliteral}{"\#"});}
\DoxyCodeLine{13             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(cs == PECA) fprintf(file\_p, \textcolor{stringliteral}{"*"});}
\DoxyCodeLine{14             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(cs == VAZIO) fprintf(file\_p, \textcolor{stringliteral}{"."});}
\DoxyCodeLine{15         \}}
\DoxyCodeLine{16         fprintf(file\_p, \textcolor{stringliteral}{"\(\backslash\)n"});}
\DoxyCodeLine{17     \}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < (\mbox{\hyperlink{estado_8h_a6cd0b387bdee9e18003c78852394aa63}{obter\_numero\_de\_jogadas}}(estado) + 1); i++)\{}
\DoxyCodeLine{20         \mbox{\hyperlink{structCOORDENADA}{COORDENADA}} jogador1 = estado-\/>\mbox{\hyperlink{structESTADO_afae43b87a488fad0f2b56a18bad31d18}{jogadas}}[i].jogador1;}
\DoxyCodeLine{21         \mbox{\hyperlink{structCOORDENADA}{COORDENADA}} jogador2 = estado-\/>\mbox{\hyperlink{structESTADO_afae43b87a488fad0f2b56a18bad31d18}{jogadas}}[i].jogador2;}
\DoxyCodeLine{22         \textcolor{keywordflow}{if}(jogador1.linha != -\/1)\{}
\DoxyCodeLine{23             fprintf(file\_p, \textcolor{stringliteral}{"\%d\%d\(\backslash\)n"}, jogador1.coluna, jogador1.linha);}
\DoxyCodeLine{24         \}}
\DoxyCodeLine{25         \textcolor{keywordflow}{if}(jogador2.linha != -\/1)\{}
\DoxyCodeLine{26             fprintf(file\_p, \textcolor{stringliteral}{"\%d\%d\(\backslash\)n"}, jogador2.coluna, jogador2.linha);}
\DoxyCodeLine{27         \}}
\DoxyCodeLine{28     \}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30     fclose(file\_p);}
\DoxyCodeLine{31 \}}

\end{DoxyCode}
\mbox{\Hypertarget{file_8h_ae6bfa898954094e9a4f4540e72ac3c81}\label{file_8h_ae6bfa898954094e9a4f4540e72ac3c81}} 
\index{file.h@{file.h}!ler@{ler}}
\index{ler@{ler}!file.h@{file.h}}
\doxysubsubsection{\texorpdfstring{ler()}{ler()}}
{\footnotesize\ttfamily void ler (\begin{DoxyParamCaption}\item[{char $\ast$}]{file\+\_\+name,  }\item[{\mbox{\hyperlink{structESTADO}{E\+S\+T\+A\+DO}} $\ast$}]{estado }\end{DoxyParamCaption})}



Esta função lê um ficheiro e verifica o Estado do tabuleiro. 


\begin{DoxyParams}{Parameters}
{\em file\+\_\+name} & O nome do ficheiro \\
\hline
{\em estado} & O estado atual \\
\hline
\end{DoxyParams}


Definition at line 34 of file file.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{34                                          \{}
\DoxyCodeLine{35     file\_name = strcat(file\_name,\textcolor{stringliteral}{".txt"});}
\DoxyCodeLine{36     FILE *file\_p;}
\DoxyCodeLine{37     file\_p = fopen(file\_name, \textcolor{stringliteral}{"r"});}
\DoxyCodeLine{38     \textcolor{keywordtype}{char} line[150];}
\DoxyCodeLine{39     \mbox{\hyperlink{data_8h_aba91601f16d4c485b2d9b8c429f27039}{CASA}} tabuleiro[8][8];}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     \textcolor{keywordflow}{if}(file\_p == NULL)\{}
\DoxyCodeLine{42         printf(\textcolor{stringliteral}{"Nome de ficheiro invalido"});}
\DoxyCodeLine{43         \textcolor{keywordflow}{return};}
\DoxyCodeLine{44     \}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46     resetJogadas(estado);}
\DoxyCodeLine{47     estado-\/>\mbox{\hyperlink{structESTADO_a261495728744647e618b4e623f5a4b7a}{num\_jogadas}} = 0;}
\DoxyCodeLine{48 }
\DoxyCodeLine{49     \textcolor{keywordtype}{int} linha = 0;}
\DoxyCodeLine{50     \textcolor{keywordflow}{while}(!feof(file\_p))\{}
\DoxyCodeLine{51         fgets(line, 150, file\_p);}
\DoxyCodeLine{52         \textcolor{keywordflow}{if}(linha < 8)\{}
\DoxyCodeLine{53             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 8; i++)\{}
\DoxyCodeLine{54                 \textcolor{keywordflow}{if}(line[i] == \textcolor{charliteral}{'1'}) tabuleiro[linha][i] = POS1;}
\DoxyCodeLine{55                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(line[i] == \textcolor{charliteral}{'2'}) tabuleiro[linha][i] = POS2;}
\DoxyCodeLine{56                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(line[i] == \textcolor{charliteral}{'\#'}) tabuleiro[linha][i] = RASTRO;}
\DoxyCodeLine{57                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(line[i] == \textcolor{charliteral}{'*'}) tabuleiro[linha][i] = PECA;}
\DoxyCodeLine{58                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(line[i] == \textcolor{charliteral}{'.'}) tabuleiro[linha][i] = VAZIO;}
\DoxyCodeLine{59             \}}
\DoxyCodeLine{60         \}\textcolor{keywordflow}{else}\{}
\DoxyCodeLine{61             \mbox{\hyperlink{structCOORDENADA}{COORDENADA}} coord;}
\DoxyCodeLine{62             coord.coluna = line[0] -\/ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{63             coord.linha = line[1] -\/ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{64 }
\DoxyCodeLine{65             \mbox{\hyperlink{jogada_8h_a9238c12e22d35dc1f13ba66dfe91727e}{adicionar\_jogada}}(estado, coord);}
\DoxyCodeLine{66 }
\DoxyCodeLine{67             \textcolor{keywordflow}{if}(\mbox{\hyperlink{estado_8h_ad6e326e4ffa57ca1ae0c75377ecefc8c}{obter\_jogador\_atual}}(estado) == 1)\{}
\DoxyCodeLine{68                 estado-\/>\mbox{\hyperlink{structESTADO_a5dd28e2e68b7aef2b6b7ea88e02eff58}{jogador\_atual}} = 2;}
\DoxyCodeLine{69             \}\textcolor{keywordflow}{else}\{}
\DoxyCodeLine{70                 estado-\/>\mbox{\hyperlink{structESTADO_a5dd28e2e68b7aef2b6b7ea88e02eff58}{jogador\_atual}} = 1;}
\DoxyCodeLine{71             \}}
\DoxyCodeLine{72         \}}
\DoxyCodeLine{73         linha++;}
\DoxyCodeLine{74     \}}
\DoxyCodeLine{75 }
\DoxyCodeLine{76     \mbox{\hyperlink{estado_8h_ab3b8be2c1d31ca864df920d8f0df3a04}{setTabuleiro}}(estado, tabuleiro);}
\DoxyCodeLine{77     estado-\/>\mbox{\hyperlink{structESTADO_a4896a5c5c1f40b43fb795623327e3f47}{ultima\_jogada}} = \mbox{\hyperlink{estado_8h_aa21af881dfebf0f0e822b806edf9a006}{obter\_coordenada\_peca}}(tabuleiro);}
\DoxyCodeLine{78 }
\DoxyCodeLine{79     \textcolor{keywordflow}{if}(\mbox{\hyperlink{estado_8h_ad6e326e4ffa57ca1ae0c75377ecefc8c}{obter\_jogador\_atual}}(estado) == 1)\{}
\DoxyCodeLine{80         estado-\/>\mbox{\hyperlink{structESTADO_a5dd28e2e68b7aef2b6b7ea88e02eff58}{jogador\_atual}} = 2;}
\DoxyCodeLine{81         estado-\/>\mbox{\hyperlink{structESTADO_a261495728744647e618b4e623f5a4b7a}{num\_jogadas}} = \mbox{\hyperlink{estado_8h_a6cd0b387bdee9e18003c78852394aa63}{obter\_numero\_de\_jogadas}}(estado) -\/ 1;}
\DoxyCodeLine{82     \}\textcolor{keywordflow}{else}\{}
\DoxyCodeLine{83         estado-\/>\mbox{\hyperlink{structESTADO_a5dd28e2e68b7aef2b6b7ea88e02eff58}{jogador\_atual}} = 1;}
\DoxyCodeLine{84     \}}
\DoxyCodeLine{85 }
\DoxyCodeLine{86     \mbox{\hyperlink{structCOORDENADA}{COORDENADA}} nula;}
\DoxyCodeLine{87     nula.linha = -\/1;}
\DoxyCodeLine{88     nula.coluna = -\/1;}
\DoxyCodeLine{89 }
\DoxyCodeLine{90     \textcolor{keywordflow}{if}(\mbox{\hyperlink{estado_8h_ad6e326e4ffa57ca1ae0c75377ecefc8c}{obter\_jogador\_atual}}(estado) == 1)\{}
\DoxyCodeLine{91         estado-\/>\mbox{\hyperlink{structESTADO_afae43b87a488fad0f2b56a18bad31d18}{jogadas}}[\mbox{\hyperlink{estado_8h_a6cd0b387bdee9e18003c78852394aa63}{obter\_numero\_de\_jogadas}}(estado)].jogador1 = nula;}
\DoxyCodeLine{92     \}\textcolor{keywordflow}{else}\{}
\DoxyCodeLine{93         estado-\/>\mbox{\hyperlink{structESTADO_afae43b87a488fad0f2b56a18bad31d18}{jogadas}}[\mbox{\hyperlink{estado_8h_a6cd0b387bdee9e18003c78852394aa63}{obter\_numero\_de\_jogadas}}(estado)].jogador2 = nula;}
\DoxyCodeLine{94     \}}
\DoxyCodeLine{95 }
\DoxyCodeLine{96     \mbox{\hyperlink{tabuleiro_8h_aa0b6c1689e60ac852a73d67e066c1df5}{mostrar\_tabuleiro}}(estado);}
\DoxyCodeLine{97     \textcolor{comment}{//printf("\(\backslash\)n\%d \%d", estado-\/>ultima\_jogada.coluna, estado-\/>ultima\_jogada.linha);}}
\DoxyCodeLine{98 }
\DoxyCodeLine{99     fclose(file\_p);}
\DoxyCodeLine{100 \}}

\end{DoxyCode}
\mbox{\Hypertarget{file_8h_a4e054f36607c534b3680ef11fa600868}\label{file_8h_a4e054f36607c534b3680ef11fa600868}} 
\index{file.h@{file.h}!movs@{movs}}
\index{movs@{movs}!file.h@{file.h}}
\doxysubsubsection{\texorpdfstring{movs()}{movs()}}
{\footnotesize\ttfamily void movs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structESTADO}{E\+S\+T\+A\+DO}} $\ast$}]{estado }\end{DoxyParamCaption})}



Esta função através do estado indica quais foram as jogadas efetuadas pelos jogadores. 


\begin{DoxyParams}{Parameters}
{\em estado} & O estado atual \\
\hline
\end{DoxyParams}


Definition at line 102 of file file.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{102                          \{}
\DoxyCodeLine{103     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 32; i++)\{}
\DoxyCodeLine{104         \mbox{\hyperlink{structCOORDENADA}{COORDENADA}} jogador1 = estado-\/>\mbox{\hyperlink{structESTADO_afae43b87a488fad0f2b56a18bad31d18}{jogadas}}[i].jogador1;}
\DoxyCodeLine{105         \mbox{\hyperlink{structCOORDENADA}{COORDENADA}} jogador2 = estado-\/>\mbox{\hyperlink{structESTADO_afae43b87a488fad0f2b56a18bad31d18}{jogadas}}[i].jogador2;}
\DoxyCodeLine{106 }
\DoxyCodeLine{107         \textcolor{keywordtype}{int} jogador1\_linha, jogador2\_linha;}
\DoxyCodeLine{108         \textcolor{keywordtype}{char} jogador1\_coluna, jogador2\_coluna;}
\DoxyCodeLine{109 }
\DoxyCodeLine{110         jogador1\_linha = 8 -\/ jogador1.linha;}
\DoxyCodeLine{111         jogador2\_linha = 8 -\/ jogador2.linha;}
\DoxyCodeLine{112 }
\DoxyCodeLine{113         jogador1\_coluna = \textcolor{charliteral}{'a'} + jogador1.coluna;}
\DoxyCodeLine{114         jogador2\_coluna = \textcolor{charliteral}{'a'} + jogador2.coluna;}
\DoxyCodeLine{115 }
\DoxyCodeLine{116         \textcolor{keywordflow}{if}(jogador2.linha == -\/1 \&\& jogador1.linha != -\/1)\{}
\DoxyCodeLine{117             printf(\textcolor{stringliteral}{"(\%d) \%c\%d\(\backslash\)n"}, i+1, jogador1\_coluna, jogador1\_linha);}
\DoxyCodeLine{118         \}\textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(jogador1.linha != -\/1 \&\& jogador2.linha != -\/1)\{}
\DoxyCodeLine{119             printf(\textcolor{stringliteral}{"(\%d) \%c\%d \%c\%d\(\backslash\)n"}, i+1, jogador1\_coluna, jogador1\_linha, jogador2\_coluna, jogador2\_linha);}
\DoxyCodeLine{120         \}}
\DoxyCodeLine{121     \}}
\DoxyCodeLine{122 \}}

\end{DoxyCode}
