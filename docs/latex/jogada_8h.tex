\hypertarget{jogada_8h}{}\section{jogada.\+h File Reference}
\label{jogada_8h}\index{jogada.\+h@{jogada.\+h}}
{\ttfamily \#include \char`\"{}estado.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}interpretador.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}tabuleiro.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{jogada_8h_aedac94896fa0c978db67ffa48463b731}{jogar} (\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$estado, \hyperlink{structCOORDENADA}{C\+O\+O\+R\+D\+E\+N\+A\+DA} coord)
\begin{DoxyCompactList}\small\item\em Efetua uma jogada. \end{DoxyCompactList}\item 
int \hyperlink{jogada_8h_ad38b311e5dd671c323311b069aab168f}{jogada\+\_\+valida} (\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$estado, \hyperlink{structCOORDENADA}{C\+O\+O\+R\+D\+E\+N\+A\+DA} coord)
\begin{DoxyCompactList}\small\item\em Verifica se a jogada é válida. \end{DoxyCompactList}\item 
void \hyperlink{jogada_8h_a4067bb2bd3a973474435b8bebcf51775}{adicionar\+\_\+jogada} (\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$estado, \hyperlink{structCOORDENADA}{C\+O\+O\+R\+D\+E\+N\+A\+DA} coord)
\begin{DoxyCompactList}\small\item\em Adicionar jogadas ao array de jogadas. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Definição da camada logica e das suas funções 

\subsection{Function Documentation}
\mbox{\Hypertarget{jogada_8h_a4067bb2bd3a973474435b8bebcf51775}\label{jogada_8h_a4067bb2bd3a973474435b8bebcf51775}} 
\index{jogada.\+h@{jogada.\+h}!adicionar\+\_\+jogada@{adicionar\+\_\+jogada}}
\index{adicionar\+\_\+jogada@{adicionar\+\_\+jogada}!jogada.\+h@{jogada.\+h}}
\subsubsection{\texorpdfstring{adicionar\+\_\+jogada()}{adicionar\_jogada()}}
{\footnotesize\ttfamily void adicionar\+\_\+jogada (\begin{DoxyParamCaption}\item[{\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$}]{estado,  }\item[{\hyperlink{structCOORDENADA}{C\+O\+O\+R\+D\+E\+N\+A\+DA}}]{coord }\end{DoxyParamCaption})}



Adicionar jogadas ao array de jogadas. 


\begin{DoxyParams}{Parameters}
{\em estado} & Apontador para o estado \\
\hline
{\em coord} & A coordenada \\
\hline
\end{DoxyParams}


Definition at line 82 of file jogada.\+c.


\begin{DoxyCode}
82                                                        \{
83     \textcolor{keywordflow}{if}(\hyperlink{estado_8h_ad6e326e4ffa57ca1ae0c75377ecefc8c}{obter\_jogador\_atual}(estado) == 1)\{
84         \hyperlink{structJOGADA}{JOGADA} jog;
85         jog.jogador1 = coord;
86 
87         \hyperlink{structCOORDENADA}{COORDENADA} nula;
88         nula.linha = -1;
89         nula.coluna = -1;
90         jog.jogador2 = nula;
91 
92         estado->\hyperlink{structESTADO_afae43b87a488fad0f2b56a18bad31d18}{jogadas}[\hyperlink{estado_8h_a6cd0b387bdee9e18003c78852394aa63}{obter\_numero\_de\_jogadas}(estado)] = jog;
93     \}\textcolor{keywordflow}{else}\{
94         \hyperlink{structJOGADA}{JOGADA} jog = estado->\hyperlink{structESTADO_afae43b87a488fad0f2b56a18bad31d18}{jogadas}[\hyperlink{estado_8h_a6cd0b387bdee9e18003c78852394aa63}{obter\_numero\_de\_jogadas}(estado)];
95         jog.jogador2 = coord;
96         estado->\hyperlink{structESTADO_afae43b87a488fad0f2b56a18bad31d18}{jogadas}[\hyperlink{estado_8h_a6cd0b387bdee9e18003c78852394aa63}{obter\_numero\_de\_jogadas}(estado)] = jog;
97         estado->\hyperlink{structESTADO_a261495728744647e618b4e623f5a4b7a}{num\_jogadas} = \hyperlink{estado_8h_a6cd0b387bdee9e18003c78852394aa63}{obter\_numero\_de\_jogadas}(estado) + 1;
98     \}
99 \}
\end{DoxyCode}
\mbox{\Hypertarget{jogada_8h_ad38b311e5dd671c323311b069aab168f}\label{jogada_8h_ad38b311e5dd671c323311b069aab168f}} 
\index{jogada.\+h@{jogada.\+h}!jogada\+\_\+valida@{jogada\+\_\+valida}}
\index{jogada\+\_\+valida@{jogada\+\_\+valida}!jogada.\+h@{jogada.\+h}}
\subsubsection{\texorpdfstring{jogada\+\_\+valida()}{jogada\_valida()}}
{\footnotesize\ttfamily int jogada\+\_\+valida (\begin{DoxyParamCaption}\item[{\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$}]{estado,  }\item[{\hyperlink{structCOORDENADA}{C\+O\+O\+R\+D\+E\+N\+A\+DA}}]{coord }\end{DoxyParamCaption})}



Verifica se a jogada é válida. 


\begin{DoxyParams}{Parameters}
{\em estado} & Apontador para o estado \\
\hline
{\em coord} & A coordenada \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 se o jogador ganha, 2 se o jogador 2 ganha, 3 se se move para uma casa vazia e 0 se a jogada não é válida 
\end{DoxyReturn}


Definition at line 35 of file jogada.\+c.


\begin{DoxyCode}
35                                                    \{
36     \hyperlink{structCOORDENADA}{COORDENADA} ultima\_jogada = \hyperlink{estado_8h_a002d7b97f6e1f8bfa2b50efbe03d62bf}{obter\_ultima\_jogada}(estado);
37     \textcolor{keywordtype}{int} x1 = \hyperlink{data_8h_a3ed4d21a46780eeda0ed8f424bee08a1}{obter\_coluna\_coord}(ultima\_jogada), y1 = 
      \hyperlink{data_8h_a2daaed57ace3c257d7f948293783e9eb}{obter\_linha\_coord}(ultima\_jogada);
38     \textcolor{keywordtype}{int} x2 = \hyperlink{data_8h_a3ed4d21a46780eeda0ed8f424bee08a1}{obter\_coluna\_coord}(coord), y2 = \hyperlink{data_8h_a2daaed57ace3c257d7f948293783e9eb}{obter\_linha\_coord}(coord);
39 
40     \textcolor{comment}{// Validar casas em volta da PECA}
41     \textcolor{keywordflow}{if}(((x1 == x2) && (((abs(y1-y2))==1))) \textcolor{comment}{// Cima e baixo}
42        || (((abs(x2-x1))==1) && ((abs(y2-y1))==1 || y2 == y1 ))) \textcolor{comment}{// Esquerda e Direita}
43     \{
44         \hyperlink{data_8h_aba91601f16d4c485b2d9b8c429f27039}{CASA} casa\_coord = \hyperlink{estado_8h_a6faa68373203923729ed38657aa0f768}{obter\_estado\_casa}(estado, coord);
45         \textcolor{keywordflow}{if}(casa\_coord == RASTRO) \textcolor{keywordflow}{return} 0;
46 
47         \textcolor{comment}{// Tabuleiro com a jogada efetuada}
48         \hyperlink{data_8h_aba91601f16d4c485b2d9b8c429f27039}{CASA} new\_tab[8][8];
49         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 8; i++)\{
50             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < 8; j++)\{
51                 \hyperlink{structCOORDENADA}{COORDENADA} \textcolor{keyword}{new};
52                 \textcolor{keyword}{new}.linha = i;
53                 \textcolor{keyword}{new}.coluna = j;
54                 new\_tab[i][j] = \hyperlink{estado_8h_a6faa68373203923729ed38657aa0f768}{obter\_estado\_casa}(estado, \textcolor{keyword}{new});
55             \}
56         \}
57 
58         new\_tab[coord.linha][coord.coluna] = PECA;
59         new\_tab[\hyperlink{data_8h_a2daaed57ace3c257d7f948293783e9eb}{obter\_linha\_coord}(ultima\_jogada)][
      \hyperlink{data_8h_a3ed4d21a46780eeda0ed8f424bee08a1}{obter\_coluna\_coord}(ultima\_jogada)] = RASTRO;
60 
61         \textcolor{keywordflow}{if}((new\_tab[abs(coord.linha-1)][abs(coord.coluna-1)] == RASTRO)
62         && (new\_tab[abs(coord.linha-1)][abs(coord.coluna)] == RASTRO)
63         && (new\_tab[abs(coord.linha-1)][abs(coord.coluna+1)] == RASTRO)
64         && (new\_tab[abs(coord.linha+1)][abs(coord.coluna-1)] == RASTRO)
65         && (new\_tab[abs(coord.linha+1)][abs(coord.coluna)] == RASTRO)
66         && (new\_tab[abs(coord.linha+1)][abs(coord.coluna+1)] == RASTRO)
67         && (new\_tab[abs(coord.linha)][abs(coord.coluna+1)] == RASTRO)
68         && (new\_tab[abs(coord.linha)][abs(coord.coluna-1)] == RASTRO))\{
69             \textcolor{keywordflow}{return} \hyperlink{estado_8h_ad6e326e4ffa57ca1ae0c75377ecefc8c}{obter\_jogador\_atual}(estado);
70         \}
71 
72          \textcolor{keywordflow}{if}(casa\_coord == POS1) \{
73              \textcolor{keywordflow}{return} 1;
74          \}\textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(casa\_coord == POS2)\{
75              \textcolor{keywordflow}{return} 2;
76          \}
77          \textcolor{keywordflow}{return} 3;
78     \}
79     \textcolor{keywordflow}{return} 0;
80 \}
\end{DoxyCode}
\mbox{\Hypertarget{jogada_8h_aedac94896fa0c978db67ffa48463b731}\label{jogada_8h_aedac94896fa0c978db67ffa48463b731}} 
\index{jogada.\+h@{jogada.\+h}!jogar@{jogar}}
\index{jogar@{jogar}!jogada.\+h@{jogada.\+h}}
\subsubsection{\texorpdfstring{jogar()}{jogar()}}
{\footnotesize\ttfamily int jogar (\begin{DoxyParamCaption}\item[{\hyperlink{structESTADO}{E\+S\+T\+A\+DO} $\ast$}]{estado,  }\item[{\hyperlink{structCOORDENADA}{C\+O\+O\+R\+D\+E\+N\+A\+DA}}]{coord }\end{DoxyParamCaption})}



Efetua uma jogada. 


\begin{DoxyParams}{Parameters}
{\em estado} & Apontador para o estado \\
\hline
{\em coord} & A coordenada \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 se a jogada for válida, 0 caso contrário 
\end{DoxyReturn}


Definition at line 3 of file jogada.\+c.


\begin{DoxyCode}
3                                            \{
4 
5     \textcolor{keywordtype}{int} validar = \hyperlink{jogada_8h_ad38b311e5dd671c323311b069aab168f}{jogada\_valida}(estado, coord);
6     \textcolor{keywordflow}{if}(validar == 1 || validar == 2 || validar == 3) \{
7         \hyperlink{structCOORDENADA}{COORDENADA} ultima\_jogada = \hyperlink{estado_8h_a002d7b97f6e1f8bfa2b50efbe03d62bf}{obter\_ultima\_jogada}(estado);
8         estado->\hyperlink{structESTADO_ab56f0f1be16954d3768b4174d14c087d}{tab}[\hyperlink{data_8h_a2daaed57ace3c257d7f948293783e9eb}{obter\_linha\_coord}(coord)][
      \hyperlink{data_8h_a3ed4d21a46780eeda0ed8f424bee08a1}{obter\_coluna\_coord}(coord)] = PECA;
9         estado->\hyperlink{structESTADO_ab56f0f1be16954d3768b4174d14c087d}{tab}[\hyperlink{data_8h_a2daaed57ace3c257d7f948293783e9eb}{obter\_linha\_coord}(ultima\_jogada)][
      \hyperlink{data_8h_a3ed4d21a46780eeda0ed8f424bee08a1}{obter\_coluna\_coord}(ultima\_jogada)] = RASTRO;
10         estado->\hyperlink{structESTADO_a4896a5c5c1f40b43fb795623327e3f47}{ultima\_jogada} = coord;
11 
12         \textcolor{comment}{// Adicionar jogada ao array de jogadas}
13         \hyperlink{jogada_8h_a4067bb2bd3a973474435b8bebcf51775}{adicionar\_jogada}(estado, coord);
14 
15         \textcolor{keywordflow}{if}(\hyperlink{estado_8h_ad6e326e4ffa57ca1ae0c75377ecefc8c}{obter\_jogador\_atual}(estado) == 1)\{
16             estado->\hyperlink{structESTADO_a5dd28e2e68b7aef2b6b7ea88e02eff58}{jogador\_atual} = 2;
17         \}\textcolor{keywordflow}{else}\{
18             estado->\hyperlink{structESTADO_a5dd28e2e68b7aef2b6b7ea88e02eff58}{jogador\_atual} = 1;
19         \}
20 
21         putchar(\textcolor{charliteral}{'\(\backslash\)n'});
22         \hyperlink{tabuleiro_8h_aa0b6c1689e60ac852a73d67e066c1df5}{mostrar\_tabuleiro}(estado);
23 
24         \textcolor{keywordflow}{if}(validar == 1 || validar == 2)\{
25             printf(\textcolor{stringliteral}{"\(\backslash\)nJogador %d vence."}, validar);
26             quit = 1;
27         \}
28         \textcolor{keywordflow}{return} 1;
29     \}\textcolor{keywordflow}{else}\{
30         printf(\textcolor{stringliteral}{"Jogada invalida.\(\backslash\)n"});
31     \}
32     \textcolor{keywordflow}{return} 0;
33 \}
\end{DoxyCode}
